<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-161931112-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-161931112-1');
    </script>

    <title>The Algorithm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <script type="importmap">
        {
          "imports": {
            "recSys": "./modules/recSys.js"
          }
        }
     </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <script type="module" src="main.js"></script>
    <script src="p5/testTemplate.js"></script>
    <script src="p5/crimsonRoom.js"></script>
    <script src="p5/emoji.js"></script>
    <script src="p5/vaporwave.js"></script>
    <script src="p5/reactorChamber.js"></script>
    <script src="p5/tunnel.js"></script>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/contentStyle.css">
</head>

<body>
    <div id="debug">Follows: <span id="debug-follows"> 0 </span> <br> 
                    Likes: <span id="debug-likes"> 0 </span><br> 
                    Shares: <span id="debug-shares"> 0 </span><br> 
                    <div id="debug-content"></div>
                    <div id="debug-post-count"></div>
    </div>
    <div id="content">
        <div class="column" id="info-column">
            <div id="info"></div>
        </div>

        <div class="column" id="device-column">
            <div id="device">
                <div id="intro">
                    <div id="intro-0" class="intro-page" style="display:none">
                        <div class="intro-title">Welcome!</div>
                        <div class="intro-paragraph">You are helping test our new social media app and inform its development.</div>
                        <div class="intro-paragraph">Click below to start.</div>
                        <button class="intro-button">Try App</button>
                    </div>

                    <div id="intro-1" class="intro-page" style="display:none">
                        <div class="intro-title">Getting started</div>
                        <div class="intro-paragraph">Select 3 or more interests so we can get you started with some recommended content.</div>
                        <div id="intro-button-container"></div>
                        <button class="intro-button" id="interest-finished">Done</button>
                    </div>

                    <div id="intro-2" class="intro-page" style="display:none">
                        <div id="intro-loading-ring">
                            <div class="ring" id="ring1"></div>
                            <div class="ring" id="ring2"></div>
                            <div class="ring" id="ring3"></div>
                            <div class="ring" id="ring4"></div>
                         </div>
                        <div class="intro-paragraph">Gathering more information about you...</div>
                    </div>

                    <div id="intro-3" class="intro-page" style="display:none">
                        <div class="intro-paragraph">We found <span id="total-matching"></span> posts that match your interests and demographic.</div>
                        <div class="intro-paragraph">We will start by showing you a random selection, and improving our recommendations over time based on what we continue learning about you.</div>
                        <button class="intro-button">Done</button>
                    </div>

                </div>
                <img id="info-icon" src="images/bar-graph.png"\>
                <div id="device-screen"> 
                    <div id="device-buttons">
                        <img id="follow" class="device-button" src="images/follow.png"\>
                        <img id="like" class="device-button" src="images/like.png"\>
                        <img id="share" class="device-button" src="images/share.png"\>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<template id="weightings-template">
    <div class="top-info-row info-row">
        <div class="weightings info-subtitle">
            Weightings
        </div>
        <div class="info-exit-button">x</div>
    </div>

    <div class="info-row bar-container"> Likes:
         <div class="bar">
            <div class="bar-fill likes-bar"></div> 
         </div> 
    </div>

    <div class="info-row bar-container"> Shares:
        <div class="bar">
           <div class="bar-fill shares-bar"></div> 
        </div> 
   </div>

   <div class="info-row bar-container"> Follows:
        <div class="bar">
            <div class="bar-fill follows-bar"></div> 
        </div> 
    </div>
</template>

<template id="preferences-template">
    <div class="preferences info-subtitle info-row">
        Your Preferences
    </div>

    <div class="info-row bar-container pref-0"> <span class="param-0">???:</span> 
        <div class="bar">
           <div class="bar-fill" style="background-color: yellow;"></div> 
        </div> 
    </div>

    <div class="info-row bar-container pref-1"> <span class="param-1">???:</span> 
       <div class="bar">
          <div class="bar-fill" style="background-color: yellow;"></div> 
       </div> 
   </div>

    <div class="info-row bar-container pref-2"> <span class="param-2">???:</span> 
       <div class="bar">
           <div class="bar-fill" style="background-color: yellow;"></div> 
       </div> 
    </div>

    <div class="info-row bar-container pref-3"> <span class="param-3">???:</span> 
        <div class="bar">
            <div class="bar-fill" style="background-color: yellow;"></div> 
        </div> 
     </div>
</template>

<template id="algorithm-template">
    <div class="alg-card">
        <div class="alg-title">Algorithm X</div>
        <div class="alg-subtitle">Key Preferences</div>
        <div class="alg-interest-list"></div>
        <div class="alg-weightings"><!-- Weightings chart goes in here --></div>
    </div>
</template>
</html>