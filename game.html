<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VPGFCSL1JE"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-VPGFCSL1JE');
    </script>

    <title>The Algorithm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script async src="https://ga.jspm.io/npm:es-module-shims@1.8.0/dist/es-module-shims.js"></script>
    
        <link rel="icon" type="image/png" sizes="32x32" href="favicon_io_bar/favicon.ico">
        
    <script type="importmap">
        {
          "imports": {
            "recSys": "./modules/recSys.js",
            "html2canvas": "./modules/html2canvas.js"
          }
        }
     </script>

    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script> -->

    <!-- Andy is getting on a plane and so made local versions of p5 and jquery-->
    <script src="offline/p5_v1-4-0.js"></script>
    <script src="offline/jquery_v1-11-1.js" type="text/javascript"></script>


    <script type="module" src="main.js"></script>
    <script src="p5/testTemplate.js"></script>
    <script src="p5/crimsonRoom.js"></script>
    <script src="p5/leParc.js"></script>
    <script src="p5/emojiSpiral.js"></script>
    <script src="p5/emojiGrid.js"></script>
    <script src="p5/emojiBounce.js"></script>
    <script src="p5/emojiMandala.js"></script>
    <script src="p5/vaporwave.js"></script>
    <script src="p5/reactorChamber.js"></script>
    <script src="p5/cubeStructure.js"></script>
    <script src="p5/tunnel.js"></script>
    <script src="p5/textSwipe.js"></script>
    <script src="p5/textPop.js"></script>
    <script src="p5/textSpotlight.js"></script>
    <script src="p5/textBounce.js"></script>
    <script src="p5/threeChambers.js"></script>
    <script src="p5/threeGrids.js"></script>


    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/contentStyle.css">
    <link href='https://fonts.googleapis.com/css?family=JetBrains Mono' rel='stylesheet'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Staatliches">
</head>

<body id="game-body">
    <!-- <div id="title-div" class="titles"><a href="./index.html">What's the Algorithm?</a></div> -->
    <div id="debug">Saves: <span id="debug-follows"> 0 </span> <br> 
                    Likes: <span id="debug-likes"> 0 </span><br> 
                    Shares: <span id="debug-shares"> 0 </span><br> 
                    <div id="debug-content"></div>
                    <div id="debug-post-count"></div>
                    <div id="debug-traits"></div>
    </div>


    <div class="onboarding" style="display:block"> 
        <div id="onboarding-text">
        <p style="padding-top: 5px;"><span><b> &#128229; FROM</b></span>: <span style=" background: #E6E6DE; color: #2251F8"><span style="border-bottom: dashed 1px"><b>DECIFER COMPANY TESTING CENTER </b></span></span></p>
        <p style="padding-top: 10px">
            Hi there! ðŸ‘‹ We run a popular social media app &#128241;, but we've been getting more complaints recently about <span class="keyword">"the algorithm"</span> which plays an important role in what people see and experience. </p>

            <p style="padding-top: 10px"> People don't understand what the algorithm is, why it shows them certain things, and think it might be contributing to bigger problems in the world. </p>

        <p style="padding-top: 10px">
            To make our app better, we built a simulation to test our <b>algorithm's logic</b>, explain <b>how it works</b>, and <b>seek your input</b>. </p>

        <button class="onboarding-button" role="button"> OPEN APP </button>

    </div>
    </div> 


    <div class="offboarding"> 
        <div id="offboarding-text">


        <p style="padding-top: 5px;"><span>&#128229; <b>FROM</b></span>: <span style=" background: #E6E6DE; color: #2251F8"><span style="border-bottom: dashed 1px"><b>"THE ALGORITHM" TEAM </b></span></span></p>
        <p style="padding-top: 10px">
            Thank you for playing! </p>

            <p style="padding-top: 10px"> While your feed in this game was largely harmless, the impact of algorithms is very real. Instead of a very <span class="assumption-color"></span> feed, people can fall down rabbit holes of increasingly harmful content.</p>

        <p style="padding-top: 10px">
            In reality, algorithmic feeds are not only influenced by your actions; technology companies also decide what type of behavior to favor and content to show (and not show) based on financial and political incentives. </p>


            <p>To learn more about responsible recommender systems and how to join the conversation, check out our resources section.</p>

             <a href="resources.html"><button class="onboarding-button" role="button"> RESOURCES </button></a>


    </div>
    </div> 



    <div id="content">


        <div class="column" id="device-column">

            <div class="device" id="device" style="display: none;">
                <div id="intro">
                    <!-- <div id="intro-00" class="intro-page" style="display:none; background-color: #2251F8;">
                        <div class="intro-title" style="font-size: 4rem; margin-top: 4%; color: #E6E6DE; font-style: bold; margin-left: 5%;">What's The Algo<br>rithm?</div>
                        <button class="intro-button">Begin</button>
                    </div> -->

                    <div id="intro-0" class="intro-page" style="display:none">
                        <div class="intro-title">Welcome!</div>
                        <div class="intro-paragraph">We want to improve our <span class="keyword">algorithm</span>, so we need your help.<br><br></div>
                        <div class="intro-paragraph">In this simulation, we'll be showing you animations of different <span class="keyword">colors</span>, <span class="keyword">shapes</span>, and <span class="keyword">speeds</span> to test our recommendation algorithm's logic.</div><br>
                        <!-- <div class="intro-paragraph"> This content is...</div> -->
                        <!-- <div class="intro-paragraph">Click below to start.</div> -->
                        <button class="intro-button">Start</button>
                    </div>

                    <div id="intro-1" class="intro-page" style="display:none">
                        
                        <div class="welcome-title">Getting <br>started</div>
                        <div style="width: 100%; margin-bottom: 5%; border: 1px; border: 1px solid #000000;"></div>
                        <div class="intro-paragraph">Select your preferred <span class="keyword">color</span>, <span class="keyword">shape</span>, and <span class="keyword">speed</span>.</div>                        
                        <div id="intro-button-container"></div>                  
                        <!-- <div id="lujain">  -->
                        <div class="button-container">  
                            <span id="error-message" style="color: red; display: none; font-size: 80%; position: absolute; margin-bottom: 10%;">Select one of each trait.</span>
                    
                        <div id="click-detector" style="position: absolute; width: 100%; height: 100%; top: 35%; left: 0;"></div>
                        <button class="intro-button" id="interest-finished">Done</button>
                    </div>

                        <!-- </div> -->

    
                    </div>

                    <div id="intro-2" class="intro-page" style="display:none">
                        <div id="intro-loading-ring">
                            <div class="ring" id="ring1"></div>
                            <div class="ring" id="ring2"></div>
                            <div class="ring" id="ring3"></div>
                            <div class="ring" id="ring4"></div>
                         </div>
                        <div class="loading">Collecting data about you...</div>
                    </div>

                    <div id="intro-3" class="intro-page" style="display:none">
                        <div class="intro-paragraph" id="top-intro-paragraph">First, our algorithm will select some content that matches the preferences you just stated, while also adding a few extra <span class="keyword">exploration</span> pieces to learn what else you like. <br><br></div>
                        <div class="intro-paragraph"></div><br>
                        <div class="intro-paragraph">Make sure to press <span class="keyword">follow</span>, <span class="keyword">like</span>, and <span class="keyword">save</span> for content you want to see more of. The algorithm uses these <span class="keyword">engagement patterns</span> to make decisions on what type of content to keep showing you.</div>
                        <button class="intro-button">See content</button>
                    </div>

                </div>
                <img id="info-icon" src="images/bar-graph.png">
                <div id="info-column"><div id="info" style="top: 600px;">


                </div></div> 
                <div id="device-screen"> 
                    <div id="device-buttons">
                        <img id="like" class="device-button" src="images/like.png"\>
                        <div class="tooltip" >
                            <span class="tooltiptext" style="font-size: 70%;">Don't forget to press like, share, or save!</span>
                          </div>                          
                            <!-- <div class="tooltip">
                            <span class="tooltiptext" style="font-size: 70%;">Check out this menu to see how the algorithm is changing!</span>
                          </div>    -->
                          <img id="follow" class="device-button" src="images/share.png"\>

                           <img id="share" class="device-button" src="images/bookmark.png"\>
                        </div>    
                        <div class="nudge" style="display: none;">
                            <p style="margin-top: 0; margin-bottom: 0;">Click this to see your new algorithm update!</p>
                        </div>
                        <div class="swipe-tutorial-container">
                            <div id="swipe-animation" class="swipe-animation" style="display:none;">
                                <img src="swipe-up.png" alt="Swipe Up Icon">
                                <p style="color: gray; background-color: white; border-radius: 6px;">drag the screen</p>
                            </div>
    
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<template id="weightings-template">
    <div class="top-info-row info-row">
        <div class="weightings info-subtitle">
            Weightings
        </div>
        <div class="info-exit-button">x</div>
    </div>

    <div class="info-row bar-container"> Likes:
         <div class="bar">
            <div class="bar-fill likes-bar"></div> 
         </div> 
    </div>

    <div class="info-row bar-container"> Shares:
        <div class="bar">
           <div class="bar-fill shares-bar"></div> 
        </div> 
   </div>

   <div class="info-row bar-container"> Saves:
        <div class="bar">
            <div class="bar-fill follows-bar"></div> 
        </div> 
    </div>
</template>

<template id="preferences-template">
    <div class="preferences info-subtitle info-row">
        Your Preferences
    </div>

    <div class="info-row bar-container pref-0"> <span class="param-0">???:</span> 
        <div class="bar">
           <div class="bar-fill" style="background-color: #EE4813;"></div> 
        </div> 
    </div>

    <div class="info-row bar-container pref-1"> <span class="param-1">???:</span> 
       <div class="bar">
          <div class="bar-fill" style="background-color: #EE4813;"></div> 
       </div> 
   </div>

    <div class="info-row bar-container pref-2"> <span class="param-2">???:</span> 
       <div class="bar">
           <div class="bar-fill" style="background-color: #EE4813;"></div> 
       </div> 
    </div>

    <div class="info-row bar-container pref-3"> <span class="param-3">???:</span> 
        <div class="bar">
            <div class="bar-fill" style="background-color: #EE4813;"></div> 
        </div> 
     </div>
</template>

<template id="assumptions-template">
    <div class="message-title">Your Profile</div>

    <script> 

        let assumption_index = Math.floor(Math.random() * 3);
        console.log("assumption_index: ", assumption_index);
        let selected_assumption = document.getElementsByClassName("assumption-subtitle")[assumption_index];
        selected_assumption.style.display = "block";


    </script>

    <div class="assumption-subtitle" >Our algorithm says your favorite color is <b><span class="assumption-color"></span></b>. <br><br> We think this makes you <b><span class="assumption-color-analysis"></span></b>. <br> <br> <span class="question">Is that correct?</span></div>

   <div class="assumption-subtitle">Your favorite shape is <b><span class="assumption-shape"></span></b>. <br> <br> We think this means you are <b><span class="assumption-shape-analysis"></span></b>.<br><br><span class="question">Is that correct? </span></div>

    <div class="assumption-subtitle">Your favorite speed is <b><span class="assumption-speed"></span><b>.<br><br> We think you like to <b><span class="assumption-speed-analysis"></span><b>.<br><br><span class="question">Is that correct?</span></div> 

</template>

<template id="algorithm-select-template">
    <div class="alg-card" id="alg-0">
        <div class="alg-title"></div>
        <div class="alg-subtitle"></div>
        <div class="alg-interest-list"></div>
        <div class="alg-weightings"></div>
    </div>
</template>

<template id="algorithm-create-template">
    <div id="algorithm-create-card">
        <div class="message-title" style="font-size: 200%; margin-left: 5%; padding-bottom: 0;">
            Behind the Algorithm
        </div>
        <div class="create-weightings">
        </div>
        <!-- <div class="message-subtitle" style="font-size: 200%; margin-left: 5%">Your Priorities</div> -->
        <div class="select-priorities"></div>
    </div>
</template>

<template id="algorithm-image-template">
    <div class="my-alg"></div>
    <!-- <div class="share-icons">
        <img class="share-icon" src="images/fb.png"\>
        <img class="share-icon" src="images/insta.png"\>
        <img class="share-icon" src="images/tik_tok.png"\>
        <img class="share-icon" src="images/twitter.png"\>
    </div> -->
</template>

</html>